{% load static %}
<!doctype html>
<html lang="en" data-layout="vertical" data-topbar="light" data-sidebar="dark" data-sidebar-size="lg" data-sidebar-image="none">
<head>

    <meta charset="utf-8" />
    <title>{% block title %} {% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="Dashboard" name="description" />
    <meta content="Dashboard" name="author" />
    <!-- App favicon -->
    <link rel="shortcut icon" href="{% static 'assets/images/fav-icon.png' %}">

    <!-- Layout config Js -->
    <script src="{% static 'assets/js/layout.js' %}"></script>
    <!-- Bootstrap Css -->
    <link href="{% static 'assets/css/bootstrap.min.css' %}" rel="stylesheet" type="text/css" />
    <!-- Icons Css -->
    <link href="{% static 'assets/css/icons.min.css' %}" rel="stylesheet" type="text/css" />
    <!-- App Css-->
    <link href="{% static 'assets/css/app.min.css' %}" rel="stylesheet" type="text/css" />
    <!-- custom Css-->
    <link href="{% static 'assets/css/custom.min.css' %}" rel="stylesheet" type="text/css" />

</head>

<body>

    <!-- auth-page wrapper -->
    <div class="auth-page-wrapper auth-bg-cover py-5 d-flex justify-content-center align-items-center min-vh-100">
        <div class="bg-overlay"></div>
        <!-- auth-page content -->
        <div class="auth-page-content overflow-hidden pt-lg-5">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="card overflow-hidden">
                            <div class="row g-0">
                                <div class="col-lg-6">
                                    <div class="p-lg-5 p-4 auth-one-bg h-100">
                                        <div class="bg-overlay"></div>
                                        <div class="position-relative h-100 d-flex flex-column">
                                            <div class="mb-4">
                                                <a href="index.html" class="d-block">
                                                    <img src="assets/images/logo-light.png" alt="" height="18">
                                                </a>
                                            </div>
                                            <div class="mt-auto">
                                                <div class="mb-3">
<!--                                                    <i class="ri-double-quotes-l display-4 text-success"></i>-->
                                                </div>

<!--                                                <div id="qoutescarouselIndicators" class="carousel slide" data-bs-ride="carousel">-->
<!--                                                    <div class="carousel-indicators">-->
<!--                                                        <button type="button" data-bs-target="#qoutescarouselIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>-->
<!--                                                        <button type="button" data-bs-target="#qoutescarouselIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>-->
<!--                                                        <button type="button" data-bs-target="#qoutescarouselIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>-->
<!--                                                    </div>-->
<!--                                                    <div class="carousel-inner text-center text-white-50 pb-5">-->
<!--                                                        <div class="carousel-item active">-->
<!--                                                            <p class="fs-15 fst-italic">" Great! Clean code, clean design, easy for customization. Thanks very much! "</p>-->
<!--                                                        </div>-->
<!--                                                        <div class="carousel-item">-->
<!--                                                            <p class="fs-15 fst-italic">" The theme is really great with an amazing customer support."</p>-->
<!--                                                        </div>-->
<!--                                                        <div class="carousel-item">-->
<!--                                                            <p class="fs-15 fst-italic">" Great! Clean code, clean design, easy for customization. Thanks very much! "</p>-->
<!--                                                        </div>-->
<!--                                                    </div>-->
<!--                                                </div>-->
                                                <!-- end carousel -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- end col -->

                                <div class="col-lg-6">
                                    <div class="p-lg-5 p-4">
                                        <div>
                                            <center>
                                                <img src="{% static 'assets/images/logo-bgfibank.png' %}" width="200px" height="auto" alt="">
                                            </center>
                                        </div>

                                        <div class="mt-4">
                                            <form action="{% url 'services:signIn' %}" method="post">
                                                {% csrf_token %}
                                                <div class="mb-3">
                                                    <label class="form-label">Choisir une filiale</label>
                                                   <select class="form-select" aria-label="Default select example" id="filiale-select" name="filiale_id">
                                                        <option value="no-value" selected></option>
                                                        <option value="" >--------------</option>
                                                        {% for fil in filialeList %}
                                                         <option value="{{ fil.idfiliale }}" >{{ fil.sigle_filiale }}</option>
                                                        {% empty %}
                                                           <option value="">Pas d'elements trouv√©s</option>
                                                       {% endfor %}
                                                   </select>
                                               </div>
                                                <div class="mb-3">
                                                    <label for="username" class="form-label">Username</label>
                                                    <input type="text" class="form-control" id="username" name="username" placeholder="Entrer username" required>
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label" for="password-input">Password</label>
                                                    <div class="position-relative auth-pass-inputgroup mb-3">
                                                        <input type="password" name="password" class="form-control pe-5" placeholder="Entrer password" id="password-input" required>
                                                        <button class="btn btn-link position-absolute end-0 top-0 text-decoration-none text-muted" type="button" id="password-addon"><i class="ri-eye-fill align-middle"></i></button>
                                                    </div>
                                                </div>
                                                <div class="mt-4">
                                                    <button class="btn w-100" style="background-color:#105a90;color:white;" id="singin_button" name="filiale_btn" type="submit">Sign In</button>
                                                </div>
                                                 <div class="mt-4">
                                                    <button class="btn w-100" style="background-color:#a4ac8b;color:white;" id="singin_superuser_button" name="sAdmin_btn" type="submit">Sign In as Super Admin</button>
                                                </div>

                                            </form>
                                        </div>
                                    </div>
                                </div>
                                <!-- end col -->
                            </div>
                            <!-- end row -->
                        </div>
                        <!-- end card -->
                    </div>
                    <!-- end col -->

                </div>
                <!-- end row -->
            </div>
            <!-- end container -->
        </div>
        <!-- end auth page content -->
    </div>
    <!-- end auth-page-wrapper -->

    <!-- JAVASCRIPT -->
 <script src="{% static 'assets/libs/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'assets/libs/simplebar/simplebar.min.js' %}"></script>
    <script src="{% static 'assets/libs/node-waves/waves.min.js' %}"></script>
    <script src="{% static 'assets/libs/feather-icons/feather.min.js' %}"></script>
    <script src="{% static 'assets/js/pages/plugins/lord-icon-2.1.0.js' %}"></script>
    <script src="{% static 'assets/js/plugins.js' %}"></script>

    <!-- apexcharts -->
    <script src="{% static 'assets/libs/apexcharts/apexcharts.min.js' %}"></script>

    <!-- Dashboard init -->
    <script src="{% static 'assets/js/pages/dashboard-crm.init.js' %}"></script>

    <!-- App js -->
    <script src="{% static 'assets/js/app.js' %}"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // S√©lection de la filiale
            var filialeSelect = document.getElementById("filiale-select");
    
            // Champs Username et Password
            var usernameInput = document.getElementById("username");
            var passwordInput = document.getElementById("password-input");
            
            var singinButton = document.getElementById("singin_button");
            var singinSuperuserButton = document.getElementById("singin_superuser_button");
    
            // D√©sactiver les champs Username et Password au chargement de la page
            usernameInput.disabled = true;
            passwordInput.disabled = true;
            singinButton.disabled = true;
            singinSuperuserButton.disabled = true;
    
            // √âcouter l'√©v√©nement de changement sur la s√©lection de la filiale
            filialeSelect.addEventListener("change", function() {
                // V√©rifier si une filiale est s√©lectionn√©e
                if (filialeSelect.value !== "no-value") {
                    // Activer les champs Username et Password
                    usernameInput.disabled = false;
                    passwordInput.disabled = false;
                    if (filialeSelect.value == ""){
                        singinSuperuserButton.disabled = false;
                        singinButton.disabled = true;
                    } else {
                        singinButton.disabled = false;
                        singinSuperuserButton.disabled = true;
                    }
                } else {
                    // D√©sactiver les champs Username et Password, et les deux boutons si aucune filiale n'est s√©lectionn√©e
                    usernameInput.disabled = true;
                    passwordInput.disabled = true;
                    singinButton.disabled = true;
                    singinSuperuserButton.disabled = true;
                }
            });
        });
    </script>
</body>